<html>
<head>
<title>
TileLoop
</title>
<link rel="stylesheet" type="text/css" href="../help.css">
<link rel="stylesheet" type="text/css" href="../help.css">
<script type="text/javascript" src="../thumb.js"> </script>
</head>

<body>
<h3><b>Tile Loops</b></h3>

<h3>Use:</h3>
<p>Traditionally, tiling is used to ensure that data used in a loop is kept in the cache.
On a GPU, a &quot;strided&quot; variant of tiling can be used to assign multiple loop
iterations to a single thread while ensuring that adjacent iterations are assigned to
different threads (for memory coalescing).</p>

<h3>Description:</h3>
<p>Traditional tiling executes Strip Mining and Interchange on a two-dimensional iteration space to then iterate in blocks.  The strided variant executes a Strip Mine and Interchange on a one-dimensional iteration to then iterate in blocks.</p>

<h3>Example:</h3>
<p> 

<ol>
<li>Select the desired for loop to be changed and choose Tile Loop under the Refactoring menu.</li>
<img src="../images/refactorings/Tile1.png">
</ol>

For Normal tiling:
<ol start="2">
<li>Select Normal and then enter the desired height and width.</li>
<img src="../images/refactorings/Tile2.png">
<li>The resulting for loop.</li>
<img src="../images/refactorings/Tile3.png">
</ol>

For Strided tiling:
<ol start="2">
<li>Select Strided and enter the stride width.</li>
<img src="../images/refactorings/StridedTile1.png">
<li>The resulting for loop.</li>
<img src="../images/refactorings/StridedTile2.png">
</ol>
</p>

<h3>Restrictions:</h3>
<p>
<ul>
<li>Must be a two-dimensional perfectly nested loop structure</li>
<li>Loop may not have a pragma attached to it.</li>
<li>The selected loop cannot carry dependence in the less than direction and be in the greater than direction after interchange as occurred.</li>
<li>The selected loop cannot carry dependence in the greater than direction and be in the less than direction after interchange as occurred.</li>
</ul>
</p>
</body>

</html>
