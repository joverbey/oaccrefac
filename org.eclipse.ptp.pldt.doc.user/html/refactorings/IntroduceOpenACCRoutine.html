<html>
<head>
<title>
IntroduceOpenACCRoutine
</title>
<link rel="stylesheet" type="text/css" href="../help.css">
<link rel="stylesheet" type="text/css" href="../help.css">
<script type="text/javascript" src="../thumb.js"> </script>
</head>

<body>
<h3><b>Introduce OpenACC Routine</b></h3>

<h3>Use:</h3>
<p>Any functions called within an OpenACC parallel or kernels region must be annotated with the OpenACC <em>routine</em> directive.</p>

<h3>Description:</h3>
<p>Adds a preprocessor directive to functions allowing them to also be compiled for device execution.
   Recursively refactors all functions called by the refactored function.</p>

<h3>Example:</h3>
<p>
<ol>
<li> Select the statements with the desired function calls and choose Introduce OpenACC Routine under
		the refactoring menu.</li>
		<img src="../images/refactorings/IntroRoutine1.png">
<li> The resulting function definitions.</li>
<img src="../images/refactorings/IntroRoutine2.png">
</ol>
</p>



<h3>Restrictions:</h3>
<p>
<ul>
<li>There cannot be any inconsistencies in the call levels, e.g., a region with vector parallelism cannot
	call a function with gang parallelism.</li>
<li>A parallelized function cannot contain function static variables.</li>
</ul>
</p>
</body>

</html>
